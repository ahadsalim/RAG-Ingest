{% extends "admin/change_list.html" %}
{% load i18n admin_urls static %}

{% block extrahead %}
{{ block.super }}
<script>
// Shortkey F2 برای دکمه اضافه کردن
document.addEventListener('DOMContentLoaded', function() {
    document.addEventListener('keydown', function(e) {
        // F2 برای اضافه کردن
        if (e.key === 'F2') {
            e.preventDefault();
            // پیدا کردن دکمه اضافه کردن
            const addButton = document.querySelector('.object-tools .addlink');
            if (addButton) {
                window.location.href = addButton.href;
            }
        }
    });
});
</script>
{% endblock %}

{% block content_title %}
{% if manifestation_title %}
    <h1>بندهای قانونی: {{ manifestation_title }}</h1>
    <div class="breadcrumbs">
        <a href="{% url 'admin:documents_legalunit_changelist' %}">انتخاب نسخه سند</a>
        &rsaquo; {{ manifestation_title }}
    </div>
{% else %}
    {{ block.super }}
{% endif %}
{% endblock %}

{% block object-tools %}
{% if manifestation %}
    <ul class="object-tools">
        <li>
            <a href="{% url 'admin:documents_legalunit_add' %}?manifestation={{ manifestation.id }}" class="addlink">
                {% trans 'Add' %} {{ opts.verbose_name }}
            </a>
        </li>
    </ul>
{% else %}
    {{ block.super }}
{% endif %}
{% endblock %}
